{"version":3,"file":"puppeteer/index.mjs","sources":["webpack://@midscene/web/./src/puppeteer/index.ts"],"sourcesContent":["import type { WebPageAgentOpt } from '@/web-element';\nimport { Agent as PageAgent } from '@midscene/core/agent';\nimport { getDebug } from '@midscene/shared/logger';\nimport type { Page as PuppeteerPage } from 'puppeteer';\nimport { forceClosePopup } from './base-page';\nimport { PuppeteerWebPage } from './page';\n\nconst debug = getDebug('puppeteer:agent');\n\nexport { PuppeteerWebPage } from './page';\n\nexport class PuppeteerAgent extends PageAgent<PuppeteerWebPage> {\n  constructor(page: PuppeteerPage, opts?: WebPageAgentOpt) {\n    const webPage = new PuppeteerWebPage(page, opts);\n    super(webPage, opts);\n\n    const { forceSameTabNavigation = true } = opts ?? {};\n\n    if (forceSameTabNavigation) {\n      forceClosePopup(page, debug);\n    }\n  }\n}\n\nexport { overrideAIConfig } from '@midscene/shared/env';\n\n// Do NOT export this since it requires puppeteer\n// export { puppeteerAgentForTarget } from './agent-launcher';\n"],"names":["debug","getDebug","PuppeteerAgent","PageAgent","page","opts","webPage","PuppeteerWebPage","forceSameTabNavigation","forceClosePopup"],"mappings":";;;;;AAOA,MAAMA,QAAQC,SAAS;AAIhB,MAAMC,uBAAuBC;IAClC,YAAYC,IAAmB,EAAEC,IAAsB,CAAE;QACvD,MAAMC,UAAU,IAAIC,iBAAiBH,MAAMC;QAC3C,KAAK,CAACC,SAASD;QAEf,MAAM,EAAEG,yBAAyB,IAAI,EAAE,GAAGH,QAAQ,CAAC;QAEnD,IAAIG,wBACFC,gBAAgBL,MAAMJ;IAE1B;AACF"}