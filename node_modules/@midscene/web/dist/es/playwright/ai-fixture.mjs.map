{"version":3,"file":"playwright/ai-fixture.mjs","sources":["webpack://@midscene/web/./src/playwright/ai-fixture.ts"],"sourcesContent":["import { randomUUID } from 'node:crypto';\nimport { writeFileSync } from 'node:fs';\nimport { tmpdir } from 'node:os';\nimport { join } from 'node:path';\nimport { PlaywrightAgent, type PlaywrightWebPage } from '@/playwright/index';\nimport type { WebPageAgentOpt } from '@/web-element';\nimport type { AgentOpt, Agent as PageAgent } from '@midscene/core/agent';\nimport {\n  DEFAULT_WAIT_FOR_NAVIGATION_TIMEOUT,\n  DEFAULT_WAIT_FOR_NETWORK_IDLE_TIMEOUT,\n} from '@midscene/shared/constants';\nimport { getDebug } from '@midscene/shared/logger';\nimport { replaceIllegalPathCharsAndSpace } from '@midscene/shared/utils';\nimport { type TestInfo, type TestType, test } from '@playwright/test';\nimport type { Page as OriginPlaywrightPage } from 'playwright';\nexport type APITestType = Pick<TestType<any, any>, 'step'>;\n\nconst debugPage = getDebug('web:playwright:ai-fixture');\n\nconst groupAndCaseForTest = (testInfo: TestInfo) => {\n  let taskFile: string;\n  let taskTitle: string;\n  const titlePath = [...testInfo.titlePath];\n\n  if (titlePath.length > 1) {\n    taskFile = titlePath.shift() || 'unnamed';\n    taskTitle = titlePath.join('__');\n  } else if (titlePath.length === 1) {\n    taskTitle = titlePath[0];\n    taskFile = `${taskTitle}`;\n  } else {\n    taskTitle = 'unnamed';\n    taskFile = 'unnamed';\n  }\n\n  const taskTitleWithRetry = `${taskTitle}${testInfo.retry ? `(retry #${testInfo.retry})` : ''}`;\n\n  return {\n    file: taskFile,\n    id: replaceIllegalPathCharsAndSpace(`${taskFile}(${taskTitle})`),\n    title: replaceIllegalPathCharsAndSpace(taskTitleWithRetry),\n  };\n};\n\nconst midsceneAgentKeyId = '_midsceneAgentId';\nexport const midsceneDumpAnnotationId = 'MIDSCENE_DUMP_ANNOTATION';\n\nexport const PlaywrightAiFixture = (options?: {\n  forceSameTabNavigation?: boolean;\n  waitForNetworkIdleTimeout?: number;\n  waitForNavigationTimeout?: number;\n}) => {\n  const {\n    forceSameTabNavigation = true,\n    waitForNetworkIdleTimeout = DEFAULT_WAIT_FOR_NETWORK_IDLE_TIMEOUT,\n    waitForNavigationTimeout = DEFAULT_WAIT_FOR_NAVIGATION_TIMEOUT,\n  } = options ?? {};\n  const pageAgentMap: Record<string, PageAgent<PlaywrightWebPage>> = {};\n  const createOrReuseAgentForPage = (\n    page: OriginPlaywrightPage,\n    testInfo: TestInfo, // { testId: string; taskFile: string; taskTitle: string },\n    opts?: WebPageAgentOpt,\n  ) => {\n    let idForPage = (page as any)[midsceneAgentKeyId];\n    if (!idForPage) {\n      idForPage = randomUUID();\n      (page as any)[midsceneAgentKeyId] = idForPage;\n      const { testId } = testInfo;\n      const { file, id, title } = groupAndCaseForTest(testInfo);\n      pageAgentMap[idForPage] = new PlaywrightAgent(page, {\n        testId: `playwright-${testId}-${idForPage}`,\n        forceSameTabNavigation,\n        cacheId: id,\n        groupName: title,\n        groupDescription: file,\n        generateReport: false, // we will generate it in the reporter\n        ...opts,\n      });\n\n      pageAgentMap[idForPage].onDumpUpdate = (dump: string) => {\n        updateDumpAnnotation(testInfo, dump);\n      };\n\n      page.on('close', () => {\n        debugPage('page closed');\n        pageAgentMap[idForPage].destroy();\n        delete pageAgentMap[idForPage];\n      });\n    }\n\n    return pageAgentMap[idForPage];\n  };\n\n  async function generateAiFunction(options: {\n    page: OriginPlaywrightPage;\n    testInfo: TestInfo;\n    use: any;\n    aiActionType:\n      | 'ai'\n      | 'aiAction'\n      | 'aiHover'\n      | 'aiInput'\n      | 'aiKeyboardPress'\n      | 'aiScroll'\n      | 'aiTap'\n      | 'aiRightClick'\n      | 'aiQuery'\n      | 'aiAssert'\n      | 'aiWaitFor'\n      | 'aiLocate'\n      | 'aiNumber'\n      | 'aiString'\n      | 'aiBoolean'\n      | 'aiAsk'\n      | 'runYaml'\n      | 'setAIActionContext'\n      | 'evaluateJavaScript'\n      | 'logScreenshot'\n      | 'freezePageContext'\n      | 'unfreezePageContext';\n  }) {\n    const { page, testInfo, use, aiActionType } = options;\n    const agent = createOrReuseAgentForPage(page, testInfo, {\n      waitForNavigationTimeout,\n      waitForNetworkIdleTimeout,\n    }) as PlaywrightAgent;\n\n    await use(async (taskPrompt: string, ...args: any[]) => {\n      return new Promise((resolve, reject) => {\n        test.step(`ai-${aiActionType} - ${JSON.stringify(taskPrompt)}`, async () => {\n          try {\n            debugPage(\n              `waitForNetworkIdle timeout: ${waitForNetworkIdleTimeout}`,\n            );\n            await agent.waitForNetworkIdle(waitForNetworkIdleTimeout);\n          } catch (error) {\n            console.warn(\n              '[midscene:warning] Waiting for network idle has timed out, but Midscene will continue execution. Please check https://midscenejs.com/faq.html#customize-the-network-timeout for more information on customizing the network timeout',\n            );\n          }\n          try {\n            type AgentMethod = (\n              prompt: string,\n              ...restArgs: any[]\n            ) => Promise<any>;\n            const result = await (agent[aiActionType] as AgentMethod)(\n              taskPrompt,\n              ...(args || []),\n            );\n            resolve(result);\n          } catch (error) {\n            reject(error);\n          }\n        });\n      });\n    });\n  }\n\n  const updateDumpAnnotation = (test: TestInfo, dump: string) => {\n    // Write dump to temporary file\n    const tempFileName = `midscene-dump-${test.testId || randomUUID()}-${Date.now()}.json`;\n    const tempFilePath = join(tmpdir(), tempFileName);\n\n    writeFileSync(tempFilePath, dump, 'utf-8');\n    debugPage(`Dump written to temp file: ${tempFilePath}`);\n\n    // Store only the file path in annotation\n    const currentAnnotation = test.annotations.find((item) => {\n      return item.type === midsceneDumpAnnotationId;\n    });\n    if (currentAnnotation) {\n      // Store file path instead of dump content\n      currentAnnotation.description = tempFilePath;\n    } else {\n      test.annotations.push({\n        type: midsceneDumpAnnotationId,\n        description: tempFilePath,\n      });\n    }\n  };\n\n  return {\n    agentForPage: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await use(\n        async (\n          propsPage?: OriginPlaywrightPage | undefined,\n          opts?: AgentOpt,\n        ) => {\n          const agent = createOrReuseAgentForPage(propsPage || page, testInfo, {\n            waitForNavigationTimeout,\n            waitForNetworkIdleTimeout,\n            ...opts,\n          });\n          return agent;\n        },\n      );\n    },\n    ai: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'ai',\n      });\n    },\n    aiAction: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiAction',\n      });\n    },\n    aiTap: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiTap',\n      });\n    },\n    aiRightClick: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiRightClick',\n      });\n    },\n    aiHover: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiHover',\n      });\n    },\n    aiInput: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiInput',\n      });\n    },\n    aiKeyboardPress: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiKeyboardPress',\n      });\n    },\n    aiScroll: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiScroll',\n      });\n    },\n    aiQuery: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiQuery',\n      });\n    },\n    aiAssert: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiAssert',\n      });\n    },\n    aiWaitFor: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiWaitFor',\n      });\n    },\n    aiLocate: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiLocate',\n      });\n    },\n    aiNumber: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiNumber',\n      });\n    },\n    aiString: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiString',\n      });\n    },\n    aiBoolean: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiBoolean',\n      });\n    },\n    aiAsk: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'aiAsk',\n      });\n    },\n    runYaml: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'runYaml',\n      });\n    },\n    setAIActionContext: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'setAIActionContext',\n      });\n    },\n    evaluateJavaScript: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'evaluateJavaScript',\n      });\n    },\n    logScreenshot: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'logScreenshot',\n      });\n    },\n    freezePageContext: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'freezePageContext',\n      });\n    },\n    unfreezePageContext: async (\n      { page }: { page: OriginPlaywrightPage },\n      use: any,\n      testInfo: TestInfo,\n    ) => {\n      await generateAiFunction({\n        page,\n        testInfo,\n        use,\n        aiActionType: 'unfreezePageContext',\n      });\n    },\n  };\n};\n\nexport type PlayWrightAiFixtureType = {\n  agentForPage: (\n    page?: any,\n    opts?: any,\n  ) => Promise<PageAgent<PlaywrightWebPage>>;\n  ai: <T = any>(prompt: string) => Promise<T>;\n  aiAction: (taskPrompt: string) => ReturnType<PageAgent['aiAction']>;\n  aiTap: (\n    ...args: Parameters<PageAgent['aiTap']>\n  ) => ReturnType<PageAgent['aiTap']>;\n  aiRightClick: (\n    ...args: Parameters<PageAgent['aiRightClick']>\n  ) => ReturnType<PageAgent['aiRightClick']>;\n  aiHover: (\n    ...args: Parameters<PageAgent['aiHover']>\n  ) => ReturnType<PageAgent['aiHover']>;\n  aiInput: (\n    ...args: Parameters<PageAgent['aiInput']>\n  ) => ReturnType<PageAgent['aiInput']>;\n  aiKeyboardPress: (\n    ...args: Parameters<PageAgent['aiKeyboardPress']>\n  ) => ReturnType<PageAgent['aiKeyboardPress']>;\n  aiScroll: (\n    ...args: Parameters<PageAgent['aiScroll']>\n  ) => ReturnType<PageAgent['aiScroll']>;\n  aiQuery: <T = any>(\n    ...args: Parameters<PageAgent['aiQuery']>\n  ) => ReturnType<PageAgent['aiQuery']>;\n  aiAssert: (\n    ...args: Parameters<PageAgent['aiAssert']>\n  ) => ReturnType<PageAgent['aiAssert']>;\n  aiWaitFor: (...args: Parameters<PageAgent['aiWaitFor']>) => Promise<void>;\n  aiLocate: (\n    ...args: Parameters<PageAgent['aiLocate']>\n  ) => ReturnType<PageAgent['aiLocate']>;\n  aiNumber: (\n    ...args: Parameters<PageAgent['aiNumber']>\n  ) => ReturnType<PageAgent['aiNumber']>;\n  aiString: (\n    ...args: Parameters<PageAgent['aiString']>\n  ) => ReturnType<PageAgent['aiString']>;\n  aiBoolean: (\n    ...args: Parameters<PageAgent['aiBoolean']>\n  ) => ReturnType<PageAgent['aiBoolean']>;\n  aiAsk: (\n    ...args: Parameters<PageAgent['aiAsk']>\n  ) => ReturnType<PageAgent['aiAsk']>;\n  runYaml: (\n    ...args: Parameters<PageAgent['runYaml']>\n  ) => ReturnType<PageAgent['runYaml']>;\n  setAIActionContext: (\n    ...args: Parameters<PageAgent['setAIActionContext']>\n  ) => ReturnType<PageAgent['setAIActionContext']>;\n  evaluateJavaScript: (\n    ...args: Parameters<PageAgent['evaluateJavaScript']>\n  ) => ReturnType<PageAgent['evaluateJavaScript']>;\n  logScreenshot: (\n    ...args: Parameters<PageAgent['logScreenshot']>\n  ) => ReturnType<PageAgent['logScreenshot']>;\n  freezePageContext: (\n    ...args: Parameters<PageAgent['freezePageContext']>\n  ) => ReturnType<PageAgent['freezePageContext']>;\n  unfreezePageContext: (\n    ...args: Parameters<PageAgent['unfreezePageContext']>\n  ) => ReturnType<PageAgent['unfreezePageContext']>;\n};\n"],"names":["debugPage","getDebug","groupAndCaseForTest","testInfo","taskFile","taskTitle","titlePath","taskTitleWithRetry","replaceIllegalPathCharsAndSpace","midsceneAgentKeyId","midsceneDumpAnnotationId","PlaywrightAiFixture","options","forceSameTabNavigation","waitForNetworkIdleTimeout","DEFAULT_WAIT_FOR_NETWORK_IDLE_TIMEOUT","waitForNavigationTimeout","DEFAULT_WAIT_FOR_NAVIGATION_TIMEOUT","pageAgentMap","createOrReuseAgentForPage","page","opts","idForPage","randomUUID","testId","file","id","title","PlaywrightAgent","dump","updateDumpAnnotation","generateAiFunction","use","aiActionType","agent","taskPrompt","args","Promise","resolve","reject","test","JSON","error","console","result","tempFileName","Date","tempFilePath","join","tmpdir","writeFileSync","currentAnnotation","item","propsPage"],"mappings":";;;;;;;;;AAiBA,MAAMA,YAAYC,SAAS;AAE3B,MAAMC,sBAAsB,CAACC;IAC3B,IAAIC;IACJ,IAAIC;IACJ,MAAMC,YAAY;WAAIH,SAAS,SAAS;KAAC;IAEzC,IAAIG,UAAU,MAAM,GAAG,GAAG;QACxBF,WAAWE,UAAU,KAAK,MAAM;QAChCD,YAAYC,UAAU,IAAI,CAAC;IAC7B,OAAO,IAAIA,AAAqB,MAArBA,UAAU,MAAM,EAAQ;QACjCD,YAAYC,SAAS,CAAC,EAAE;QACxBF,WAAW,GAAGC,WAAW;IAC3B,OAAO;QACLA,YAAY;QACZD,WAAW;IACb;IAEA,MAAMG,qBAAqB,GAAGF,YAAYF,SAAS,KAAK,GAAG,CAAC,QAAQ,EAAEA,SAAS,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI;IAE9F,OAAO;QACL,MAAMC;QACN,IAAII,gCAAgC,GAAGJ,SAAS,CAAC,EAAEC,UAAU,CAAC,CAAC;QAC/D,OAAOG,gCAAgCD;IACzC;AACF;AAEA,MAAME,qBAAqB;AACpB,MAAMC,2BAA2B;AAEjC,MAAMC,sBAAsB,CAACC;IAKlC,MAAM,EACJC,yBAAyB,IAAI,EAC7BC,4BAA4BC,qCAAqC,EACjEC,2BAA2BC,mCAAmC,EAC/D,GAAGL,WAAW,CAAC;IAChB,MAAMM,eAA6D,CAAC;IACpE,MAAMC,4BAA4B,CAChCC,MACAjB,UACAkB;QAEA,IAAIC,YAAaF,IAAY,CAACX,mBAAmB;QACjD,IAAI,CAACa,WAAW;YACdA,YAAYC;YACXH,IAAY,CAACX,mBAAmB,GAAGa;YACpC,MAAM,EAAEE,MAAM,EAAE,GAAGrB;YACnB,MAAM,EAAEsB,IAAI,EAAEC,EAAE,EAAEC,KAAK,EAAE,GAAGzB,oBAAoBC;YAChDe,YAAY,CAACI,UAAU,GAAG,IAAIM,gBAAgBR,MAAM;gBAClD,QAAQ,CAAC,WAAW,EAAEI,OAAO,CAAC,EAAEF,WAAW;gBAC3CT;gBACA,SAASa;gBACT,WAAWC;gBACX,kBAAkBF;gBAClB,gBAAgB;gBAChB,GAAGJ,IAAI;YACT;YAEAH,YAAY,CAACI,UAAU,CAAC,YAAY,GAAG,CAACO;gBACtCC,qBAAqB3B,UAAU0B;YACjC;YAEAT,KAAK,EAAE,CAAC,SAAS;gBACfpB,UAAU;gBACVkB,YAAY,CAACI,UAAU,CAAC,OAAO;gBAC/B,OAAOJ,YAAY,CAACI,UAAU;YAChC;QACF;QAEA,OAAOJ,YAAY,CAACI,UAAU;IAChC;IAEA,eAAeS,mBAAmBnB,OA2BjC;QACC,MAAM,EAAEQ,IAAI,EAAEjB,QAAQ,EAAE6B,GAAG,EAAEC,YAAY,EAAE,GAAGrB;QAC9C,MAAMsB,QAAQf,0BAA0BC,MAAMjB,UAAU;YACtDa;YACAF;QACF;QAEA,MAAMkB,IAAI,OAAOG,YAAoB,GAAGC,OAC/B,IAAIC,QAAQ,CAACC,SAASC;gBAC3BC,UAAAA,IAAS,CAAC,CAAC,GAAG,EAAEP,aAAa,GAAG,EAAEQ,KAAK,SAAS,CAACN,aAAa,EAAE;oBAC9D,IAAI;wBACFnC,UACE,CAAC,4BAA4B,EAAEc,2BAA2B;wBAE5D,MAAMoB,MAAM,kBAAkB,CAACpB;oBACjC,EAAE,OAAO4B,OAAO;wBACdC,QAAQ,IAAI,CACV;oBAEJ;oBACA,IAAI;wBAKF,MAAMC,SAAS,MAAOV,KAAK,CAACD,aAAa,CACvCE,eACIC,QAAQ,EAAE;wBAEhBE,QAAQM;oBACV,EAAE,OAAOF,OAAO;wBACdH,OAAOG;oBACT;gBACF;YACF;IAEJ;IAEA,MAAMZ,uBAAuB,CAACU,MAAgBX;QAE5C,MAAMgB,eAAe,CAAC,cAAc,EAAEL,KAAK,MAAM,IAAIjB,aAAa,CAAC,EAAEuB,KAAK,GAAG,GAAG,KAAK,CAAC;QACtF,MAAMC,eAAeC,KAAKC,UAAUJ;QAEpCK,cAAcH,cAAclB,MAAM;QAClC7B,UAAU,CAAC,2BAA2B,EAAE+C,cAAc;QAGtD,MAAMI,oBAAoBX,KAAK,WAAW,CAAC,IAAI,CAAC,CAACY,OACxCA,KAAK,IAAI,KAAK1C;QAEvB,IAAIyC,mBAEFA,kBAAkB,WAAW,GAAGJ;aAEhCP,KAAK,WAAW,CAAC,IAAI,CAAC;YACpB,MAAM9B;YACN,aAAaqC;QACf;IAEJ;IAEA,OAAO;QACL,cAAc,OACZ,EAAE3B,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM6B,IACJ,OACEqB,WACAhC;gBAEA,MAAMa,QAAQf,0BAA0BkC,aAAajC,MAAMjB,UAAU;oBACnEa;oBACAF;oBACA,GAAGO,IAAI;gBACT;gBACA,OAAOa;YACT;QAEJ;QACA,IAAI,OACF,EAAEd,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,OAAO,OACL,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,cAAc,OACZ,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,SAAS,OACP,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,SAAS,OACP,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,iBAAiB,OACf,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,SAAS,OACP,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,WAAW,OACT,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,UAAU,OACR,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,WAAW,OACT,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,OAAO,OACL,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,SAAS,OACP,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,oBAAoB,OAClB,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,oBAAoB,OAClB,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,eAAe,OACb,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,mBAAmB,OACjB,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;QACA,qBAAqB,OACnB,EAAEZ,IAAI,EAAkC,EACxCY,KACA7B;YAEA,MAAM4B,mBAAmB;gBACvBX;gBACAjB;gBACA6B;gBACA,cAAc;YAChB;QACF;IACF;AACF"}